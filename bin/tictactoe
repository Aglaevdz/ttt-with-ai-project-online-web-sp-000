#!/usr/bin/env ruby

require_relative '../config/environment'


  puts "Welcome to Tic Tac Toe!"
  game = Game.new
  until game.won?
    game.play
  end

  def player_type
    puts "How would you like to play?"
    puts "0 = Computer vs Computer"
    puts "1 = Player vs Computer"
    puts "2 = Player vs Player"
    puts "Please select a number (0,1,2) "
    player_type = gets.strip.to_i
  end

  if player_type == 0
    game = game.new(Players::Computer.new("X"), Players::Computer.new("O"), board = Board.new)
  elsif player_type == 1
    puts "Choose token for Player (X or O)"
    token_select = ""
    until ["X", "O"].include?(token_select) do
      token_select = gets.strip.upcase
    end

    game = (Players::Computer.new(token_select), Players::Human.new(token_select=="X" ? "O" : "X"), board = Board.new)
  else player_type == 2
    game = (Players::Human.new("X"), Players::Human.new("O"), board = Board.new)
  end

  def play_again
    puts "Do you want to play again? (Y/N)"
    again = gets.strip.upcase
    if again == "Y"
      game = Game.new
    else again == "N"
      puts "Thanks for playing!"
  end
